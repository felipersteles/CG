<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Computer Graphics - Pyramids</title>

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Computer Graphics - Pyramids" />
  <meta property="og:description"
    content="This site delves into the captivating world of computer graphics, specifically designed for a university course at the Federal University of Maranhão (UFMA)." />
  <meta property="og:image"
    content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMcXFSjAYBUubJ-oq_i30FNAXJdu9Q5iw9BFNoSlFxkY0icbspLi3b9Re-gwMxlh7bhlurLvxt81AjbKsCTDV_J9y4z4Lc_Lr_XdGTemj7BC5jAseLZk7hqDrxaaUgP_FHi_hGk8DeQto/s768/%25E2%2580%2598Escola+de+Atenas%25E2%2580%2599%252C+de+Rafael+Sanzio+-+Musei+Vaticani+-+Destaque%252C++Out20.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="628" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:title" content="Computer Graphics - Pyramids" />
  <meta property="twitter:description"
    content="This site delves into the captivating world of computer graphics, specifically designed for a university course at the Federal University of Maranhão (UFMA)." />
  <meta property="twitter:image"
    content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMcXFSjAYBUubJ-oq_i30FNAXJdu9Q5iw9BFNoSlFxkY0icbspLi3b9Re-gwMxlh7bhlurLvxt81AjbKsCTDV_J9y4z4Lc_Lr_XdGTemj7BC5jAseLZk7hqDrxaaUgP_FHi_hGk8DeQto/s768/%25E2%2580%2598Escola+de+Atenas%25E2%2580%2599%252C+de+Rafael+Sanzio+-+Musei+Vaticani+-+Destaque%252C++Out20.jpg" />
  <meta property="twitter:image:width" content="1200" />
  <meta property="twitter:image:height" content="628" />

  <link rel="icon" type="image/x-icon"
    href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoiAWpT1lgisOqQNDtKuYgmIRKlAqZjQgW8g&s" />

  <meta name="description"
    content="This site delves into the captivating world of computer graphics, 
    specifically designed for a university course at the Federal University of Maranhão (UFMA). 
     Here, you'll embark on an exciting exploration of the techniques used to create the stunning visuals and 
     animations that captivate us in movies, games, and beyond.  
     Prepare to unlock the secrets behind these digital marvels and develop the skills to bring your own creative vision to life!" />

  <link rel="stylesheet" type="text/css" href="style.css" />

  <script id="vertex-shader" type="x-shader/x-vertex">

      attribute  vec4 vPosition;
      attribute  vec4 vColor;
      attribute  vec3 vNormal;
  
      uniform mat4 modelViewMatrix;
      uniform mat4 projectionMatrix;
      
      varying vec4 fColor;
      varying vec3 fPosition;
      varying vec3 fNormal;
  
      void main() 
      {
          vec4 worldPosition = projectionMatrix * modelViewMatrix * vPosition;
          
          fPosition = worldPosition.xyz;
          fColor = vColor;
          fNormal = vNormal;

          gl_Position = worldPosition;
      } 
  </script>

  <script id="fragment-shader" type="x-shader/x-fragment">

    precision mediump float;

    varying vec4 fColor;
    varying vec3 fPosition;
    varying vec3 fNormal;

    uniform vec3 uLightPosition;
    uniform vec4 uLightColor;
    uniform vec4 uAmbientLightColor;
    
    uniform bool uAmbientLight;
    uniform bool uDiffuseLight;
    uniform bool uSpecularLight;

    // FIXME: esta notacion para los nombres de las variables es fea
    uniform float uKa;
    uniform float uKd;
    uniform float uKs;

    void main()
    {
        float glossyness = 20.0;

        vec3 cameraDirection = normalize(-fPosition.xyz);
        vec3 normalDirection = normalize(fNormal);
        vec3 lightDirection = normalize(uLightPosition - fPosition.xyz);
        vec3 reflectedDirection = reflect(-lightDirection, normalDirection);

        vec4 fragmentColor = vec4(0, 0, 0, 0);

        if (uAmbientLight) {
          vec4 ambientColor = fColor * uAmbientLightColor * uKa; //* kambient;
          fragmentColor = fragmentColor + ambientColor;
        }
  
        if (uDiffuseLight) {
          vec4 diffuseColor = fColor * uLightColor * max(dot(normalDirection, lightDirection), 0.0) * uKd; //* kdiffuse;
          fragmentColor = fragmentColor + diffuseColor;
        }
  
        if (uSpecularLight) {
          vec4 specularColor = uLightColor * pow(max(dot(reflectedDirection, cameraDirection), 0.0), glossyness) * uKs; //* fatt;
          fragmentColor = fragmentColor + specularColor;
        }

        gl_FragColor = vec4(fragmentColor.rgb, 1.0);
    }
  </script>

  <script type="text/javascript" src="./Common/webgl-utils.js"></script>
  <script type="text/javascript" src="./Common/initShaders.js"></script>
  <script type="text/javascript" src="./Common/MV.js"></script>
  <script type="text/javascript" src="./pyramids/sphere.js"></script>
  <script type="text/javascript" src="./pyramids/utils.js"></script>
  <script type="text/javascript" src="./pyramids/scenario.js"></script>
  <script type="text/javascript" src="./pyramids/camera.js"></script>
  <script type="text/javascript" src="./pyramids/lights.js"></script>
  <script type="text/javascript" src="./pyramids/script.js"></script>
</head>

<body style="margin: 0px">
  <section id="pyramid" class="pyramid">
    <div>
      <canvas id="canvas" width="500" height="500" class="pyramids"></canvas>
    </div>
    <div class="column">
      <div class="cam center">
        <label for="cam-theta">Cam theta:</label>
        <input id="cam-theta" type="range">
      </div>
      <div class="cam center">
        <label for="cam-phi">Cam phi:</label>
        <input id="cam-phi" type="range" value="0">
      </div>
      <div class="cam center">
        <label for="cam-x">Cam X:</label>
        <input id="cam-x" type="range" />
      </div>
      <div class="cam center">
        <label for="cam-y">Cam Y:</label>
        <input id="cam-y" type="range">
      </div>
      <div class="cam center">
        <label for="cam-z">Cam Z:</label>
        <input id="cam-z" type="range">
      </div>
    </div>
  </section>
  <footer>
    <p class="copyright">© 2024 Felipe Teles. All rights reserved.</p>
    <a href="https://satelestes.netlify.app/">See saTelestes</a>
  </footer>
</body>

</html>